<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - TaskFlow</title>
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/dashboard.css">
    <!-- Icons (using Material Symbols) -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <style>
        .material-symbols-rounded {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="logo">
                <span class="material-symbols-rounded logo-icon">checklist</span>
                <span>TaskFlow</span>
            </div>
            
            <div class="user-menu">
                <div class="user-avatar" id="userAvatar">
                    <!-- JS will insert user initial -->
                </div>
                <button class="btn btn-outline btn-sm" id="logoutBtn">
                    <span class="material-symbols-rounded">logout</span>
                    Logout
                </button>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <!-- Quick Actions -->
            <section class="sidebar-section">
                <h3 class="section-title">Quick Actions</h3>
                <button class="btn btn-primary btn-block" id="createTaskBtn">
                    <span class="material-symbols-rounded">add</span>
                    New Task
                </button>
                <button class="btn btn-outline btn-block mt-4" id="refreshBtn">
                    <span class="material-symbols-rounded">refresh</span>
                    Refresh
                </button>
            </section>

            <!-- Statistics -->
            <section class="sidebar-section">
                <h3 class="section-title">Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-icon total">
                                <span class="material-symbols-rounded">dashboard</span>
                            </div>
                            <span class="text-sm text-gray-500">Today</span>
                        </div>
                        <div class="stat-value" id="totalTasks">0</div>
                        <div class="stat-label">Total Tasks</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-icon completed">
                                <span class="material-symbols-rounded">check_circle</span>
                            </div>
                            <span class="text-sm text-gray-500">Completed</span>
                        </div>
                        <div class="stat-value" id="completedTasks">0</div>
                        <div class="stat-label">Tasks Done</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-icon pending">
                                <span class="material-symbols-rounded">pending</span>
                            </div>
                            <span class="text-sm text-gray-500">Pending</span>
                        </div>
                        <div class="stat-value" id="pendingTasks">0</div>
                        <div class="stat-label">To Do</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-icon overdue">
                                <span class="material-symbols-rounded">warning</span>
                            </div>
                            <span class="text-sm text-gray-500">Overdue</span>
                        </div>
                        <div class="stat-value" id="overdueTasks">0</div>
                        <div class="stat-label">Past Due</div>
                    </div>
                </div>
            </section>

            <!-- Filters -->
            <section class="sidebar-section">
                <h3 class="section-title">Filters</h3>
                <div class="filter-group">
                    <button class="filter-btn active" data-filter="all">
                        <span>All Tasks</span>
                        <span class="filter-count" id="countAll">0</span>
                    </button>
                    <button class="filter-btn" data-filter="pending">
                        <span>Pending</span>
                        <span class="filter-count" id="countPending">0</span>
                    </button>
                    <button class="filter-btn" data-filter="in_progress">
                        <span>In Progress</span>
                        <span class="filter-count" id="countInProgress">0</span>
                    </button>
                    <button class="filter-btn" data-filter="completed">
                        <span>Completed</span>
                        <span class="filter-count" id="countCompleted">0</span>
                    </button>
                </div>
            </section>

            <!-- Priority Filters -->
            <section class="sidebar-section">
                <h3 class="section-title">Priority</h3>
                <div class="filter-group">
                    <button class="filter-btn" data-priority="all">
                        <span>All Priorities</span>
                    </button>
                    <button class="filter-btn" data-priority="high">
                        <span>High Priority</span>
                        <span class="filter-count" id="countHigh">0</span>
                    </button>
                    <button class="filter-btn" data-priority="medium">
                        <span>Medium</span>
                        <span class="filter-count" id="countMedium">0</span>
                    </button>
                    <button class="filter-btn" data-priority="low">
                        <span>Low</span>
                        <span class="filter-count" id="countLow">0</span>
                    </button>
                </div>
            </section>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-content">
            <!-- Content Header -->
            <div class="content-header">
                <div>
                    <h2>My Tasks</h2>
                    <p class="text-gray-600" id="tasksSummary">Loading your tasks...</p>
                </div>
                
                <div class="search-box">
                    <span class="material-symbols-rounded search-icon">search</span>
                    <input type="text" 
                           class="search-input" 
                           id="searchInput"
                           placeholder="Search tasks...">
                </div>
            </div>

            <!-- Tasks Header -->
            <div class="tasks-header">
                <h3 id="tasksTitle">Recent Tasks</h3>
                <div class="flex items-center gap-4">
                    <select class="form-control" id="sortSelect" style="width: auto;">
                        <option value="-createdAt">Newest First</option>
                        <option value="createdAt">Oldest First</option>
                        <option value="dueDate">Due Date</option>
                        <option value="priority">Priority</option>
                        <option value="title">Title A-Z</option>
                    </select>
                    <button class="btn btn-outline" id="toggleViewBtn">
                        <span class="material-symbols-rounded" id="viewIcon">grid_view</span>
                    </button>
                </div>
            </div>

            <!-- Tasks Grid/List -->
            <div class="tasks-grid" id="tasksContainer">
                <!-- Loading State -->
                <div class="empty-state" id="loadingState">
                    <div class="empty-icon">
                        <span class="material-symbols-rounded" style="font-size: 2rem;">hourglass_empty</span>
                    </div>
                    <h3>Loading tasks...</h3>
                    <p class="text-gray-600">Fetching your tasks from the server</p>
                </div>
                
                <!-- Empty State (hidden by default) -->
                <div class="empty-state hidden" id="emptyState">
                    <div class="empty-icon">
                        <span class="material-symbols-rounded" style="font-size: 2rem;">task_alt</span>
                    </div>
                    <h3>No tasks found</h3>
                    <p class="text-gray-600">Create your first task to get started</p>
                    <button class="btn btn-primary mt-4" id="createFirstTaskBtn">
                        <span class="material-symbols-rounded">add</span>
                        Create Task
                    </button>
                </div>
                
                <!-- Tasks will be inserted here by JavaScript -->
                <!-- <div class="task-card">
                    <div class="task-card-header">
                        <div>
                            <h4 class="task-title">Task Title</h4>
                            <div class="task-tags">
                                <span class="task-tag tag-priority-high">High</span>
                                <span class="task-tag tag-status-pending">Pending</span>
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="btn btn-outline btn-sm btn-icon">
                                <span class="material-symbols-rounded">edit</span>
                            </button>
                            <button class="btn btn-outline btn-sm btn-icon">
                                <span class="material-symbols-rounded">delete</span>
                            </button>
                        </div>
                    </div>
                    <p class="task-description">
                        Task description goes here with details about what needs to be done.
                    </p>
                    <div class="task-meta">
                        <div class="task-date">
                            <span class="material-symbols-rounded date-icon">calendar_today</span>
                            <span>Due: Dec 15, 2023</span>
                        </div>
                        <div class="text-xs text-gray-500">
                            Created: 2 days ago
                        </div>
                    </div>
                </div> -->
            </div>

            <!-- Pagination -->
            <div class="pagination hidden" id="pagination">
                <button class="page-btn" id="prevPage" disabled>
                    <span class="material-symbols-rounded">chevron_left</span>
                </button>
                <div id="pageNumbers"></div>
                <button class="page-btn" id="nextPage">
                    <span class="material-symbols-rounded">chevron_right</span>
                </button>
            </div>
        </main>
    </div>

    <!-- Task Modal -->
    <div class="modal-overlay" id="taskModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Create New Task</h3>
                <button class="modal-close" id="closeModalBtn">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            
            <form id="taskForm" class="modal-body">
                <input type="hidden" id="taskId">
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="taskTitle" class="form-label">Title *</label>
                        <input type="text" 
                               id="taskTitle" 
                               class="form-control"
                               required
                               placeholder="What needs to be done?">
                        <div class="form-error" id="titleError"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="taskDescription" class="form-label">Description</label>
                        <textarea id="taskDescription" 
                                  class="form-control" 
                                  rows="4"
                                  placeholder="Add details, notes, or instructions..."></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="taskPriority" class="form-label">Priority</label>
                            <select id="taskPriority" class="form-control">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="taskStatus" class="form-label">Status</label>
                            <select id="taskStatus" class="form-control">
                                <option value="pending">Pending</option>
                                <option value="in_progress">In Progress</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="taskDueDate" class="form-label">Due Date</label>
                        <input type="date" 
                               id="taskDueDate" 
                               class="form-control"
                               min="">
                        <div class="form-text">Leave empty for no due date</div>
                    </div>
                </div>
            </form>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" id="cancelBtn">
                    Cancel
                </button>
                <button type="submit" form="taskForm" class="btn btn-primary" id="saveTaskBtn">
                    <span class="material-symbols-rounded">save</span>
                    Save Task
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <!-- You'll add these -->
    <!-- <script src="js/api.js"></script> -->
  <script src="js/dashboard.js"></script>
</body>
</html>